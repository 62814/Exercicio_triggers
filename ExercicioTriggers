CREATE TABLE DIRETOR (
ID SERIAL PRIMARY KEY
, NOME VARCHAR(50)
, SEXO CHAR(1)
);

CREATE TABLE ATOR (
ID SERIAL PRIMARY KEY
, NOME VARCHAR(50)
, SEXO CHAR(1)
);

CREATE TABLE FILME (
ID SERIAL PRIMARY KEY
, TITULO VARCHAR(50)
, ID_DIRETOR INTEGER
, FOREIGN KEY (ID_DIRETOR) REFERENCES
DIRETOR (ID)
);

CREATE TABLE FILME_ATOR (
ID_FILME INTEGER
, ID_ATOR INTEGER
, PRIMARY KEY(ID_FILME,ID_ATOR)
, FOREIGN KEY (ID_FILME) REFERENCES FILME(ID)
, FOREIGN KEY (ID_ATOR) REFERENCES ATOR(ID)
);

INSERT INTO DIRETOR (NOME , SEXO) 
VALUES ('Steven Spilberg', 'M');

INSERT INTO ATOR (NOME , SEXO) 
VALUES ('Harrison Ford', 'M');

INSERT INTO ATOR (NOME , SEXO) 
VALUES ('Sean Connery', 'M');

INSERT INTO FILME (TITULO , ID_DIRETOR) 
VALUES ('Indiana Jones', 1);

INSERT INTO FILME_ATOR (ID_FILME , ID_ATOR) 
VALUES (1, 1);

INSERT INTO FILME_ATOR (ID_FILME , ID_ATOR) 
VALUES (1, 2);

INSERT INTO DIRETOR (NOME , SEXO) 
VALUES ('George Lucas', 'M');

INSERT INTO ATOR (NOME , SEXO) 
VALUES ('Carrie Fisher', 'F');

INSERT INTO FILME (TITULO , ID_DIRETOR) 
VALUES ('Star Wats IV', 2);

INSERT INTO FILME_ATOR (ID_FILME , ID_ATOR) 
VALUES (2, 1);

INSERT INTO FILME_ATOR (ID_FILME , ID_ATOR) 
VALUES (2, 3);

UPDATE DIRETOR  SET NOME = 'Steven Allan Spielberg'  WHERE ID = 1;